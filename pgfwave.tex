%&pdflatex
\documentclass{article}

\usepackage{tikz}


\def\textwave#1{%
  \begingroup
    \def\lastchar{L}%
    \let\currentchar\empty
    \let\str\empty
    \textwaveA#1\relax
    \message{^^J\meaning\str}%
    \begin{tikzpicture}[x=.0175ex,y=.0175ex,line width=0.5pt]
      \draw[step=50,very thin,color=gray] (0,0) grid (100,100);
      \draw (0,0) \str;
    \end{tikzpicture}
  \endgroup
}

\def\sigH{H}
\def\sigL{L}

\def\slope{\csname waveslope\endcsname}%
\def\zslope{\csname wavezslope\endcsname}%

\makeatletter
\def\pgfwavesetslope#1{%
  \@tempcnta=#1\relax
  \edef\waveslope{\the\@tempcnta}%
  \divide\@tempcnta by 2\relax
  \edef\wavezslope{\the\@tempcnta}%
}
\AtBeginDocument{%
  \pgfwavesetslope{10}%
}

\def\pgfwavedef#1{%
  \pgfwavedef@#1\relax%
}

\def\pgfwavechar#1{%
  \pgfwavedef@#1\relax%
  \begingroup
  \def\@tempa{#1}%
  \lowercase{\def\@tempb{#1}}%
  \ifx\@tempa\@tempb
    \endgroup
    \edef\
  \else
    \endgroup
  \fi
}

\def\pgfwavedef@#1#2\relax#3{%
  \expandafter\edef\csname path#1#2\endcsname{#3}%
  \def\@tempa{#1}%
  \lowercase{\def\@tempb{#1}}%
  \ifx\@tempa\@tempb\else
    \@ifundefined{path\@tempb #2}%
      {\pgfwavelet{\@tempb #2}{#1#2}}{}%
  \fi
}

\def\pgfwavelet#1#2{%
  \expandafter
  \let\csname path#1\expandafter\endcsname\csname path#2\endcsname
}
\AtBeginDocument{%
\def\wavelength{100}
}
\def\length{\csname wavelength\endcsname}

%\pgfwavechar{H}{-- ++(\length,0) }
\pgfwavedef{HH}{-- ++(\length,0) }
\pgfwavedef{Hh}{-- ++(\length/2.,0) }
\pgfwavedef{LL}{-- ++(\length,0) }
\pgfwavedef{Ll}{-- ++(\length/2.,0) }
\pgfwavedef{HL}{-- ++(\slope,-\length) -- ++(\length-\slope,0) }
\pgfwavedef{Hl}{-- ++(\slope,-\length) -- ++(\length/2.-\slope,0) }
\pgfwavedef{LH}{-- ++(\slope, \length) -- ++(\length-\slope,0) }
\pgfwavedef{Lh}{-- ++(\slope, \length) -- ++(\length/2.-\slope,0) }

\show\pathHH

\pgfwavedef{ZZ}{-- ++(\length,0) }
\pgfwavedef{Zz}{-- ++(\length/2.,0) }
\pgfwavedef{LZ}{-- ++(\zslope,+50) -- ++(\length-\zslope,0) }
\pgfwavedef{Lz}{-- ++(\zslope,+50) -- ++(\length/2.-\zslope,0) }
\pgfwavedef{HZ}{-- ++(\zslope,-50) -- ++(\length-\zslope,0) }
\pgfwavedef{Hz}{-- ++(\zslope,-50) -- ++(\length/2.-\zslope,0) }
\pgfwavedef{ZH}{-- ++(\zslope,+50) -- ++(\length-\zslope,0) }
\pgfwavedef{Zh}{-- ++(\zslope,+50) -- ++(\length/2.-\zslope,0) }
\pgfwavedef{ZL}{-- ++(\zslope,-50) -- ++(\length-\zslope,0) }
\pgfwavedef{Zl}{-- ++(\zslope,-50) -- ++(\length/2.-\zslope,0) }
\pgfwavedef{ZD}{}
\pgfwavedef{Zd}{}
\pgfwavedef{ZX}{}
\pgfwavedef{Zx}{}
\pgfwavedef{DZ}{}
\pgfwavedef{Dz}{}
\pgfwavelet{XZ}{DZ}
\pgfwavelet{Xz}{Dz}

\pgfwavedef{LD}{-- ++(\slope,100)     -- ++(\length-\slope,0)
               ++(-100,-100) ++(\zslope,+50)
            -- ++(\zslope,-50) -- ++(\length-\slope,0) }
\pgfwavelet{lD}{LD}
\pgfwavedef{Ld}{-- ++(\slope,100)     -- ++(\length/2.-\slope,0)
               ++(-50,-100) ++(\zslope,+50)
            -- ++(\zslope,-50) -- ++(\length/2.-\slope,0) }
\pgfwavelet{ld}{Ld}
\pgfwavedef{DL}{   ++(-10,0) -- ++(+10,0)
            -- ++( \zslope,+50)
               ++(-\zslope,+50)
               ++(-10,0) -- ++(+10,0)
            -- ++(\slope,-100) -- ++(\length-\slope,0) }
\pgfwavelet{dL}{dL}
\pgfwavedef{Dl}{   ++(-10,0) -- ++(+10,0)
            -- ++(\zslope,+50)
               ++(-\zslope,+50)
               ++(-10,0) -- ++(+10,0)
            -- ++(\slope,-100) -- ++(\length/2.-\slope,0) }
\pgfwavelet{dl}{Dl}
\pgfwavedef{HD}{-- ++(\slope,-100)
            -- ++(\length-\slope,0)
               ++(-100,+100) ++(\zslope,-50)
            -- ++(\zslope,+50) -- ++(\length-\slope,0)
               ++(0,-100) }
\pgfwavelet{hD}{HD}
\pgfwavedef{Hd}{-- ++(\slope,-100)
            -- ++(\length/2.-\slope,0)
               ++(-50,+100) ++(\zslope,-50)
            -- ++(\zslope,+50) -- ++(\length/2.-\slope,0)
               ++(0,-100) }
\pgfwavelet{hd}{Hd}
\pgfwavedef{DH}{   ++(0,+100)
               ++(-10,0) -- ++(+10,0)
            -- ++(\zslope,-50)
               ++(-\zslope,-50)
               ++(-10,0) -- ++(+10,0)
            -- ++(\slope,+100) -- ++(\length-\slope,0) }
\pgfwavelet{dH}{DH}
\pgfwavedef{Dh}{   ++(0,+100)
               ++(-10,0) -- ++(+10,0)
            -- ++(\zslope,-50)
               ++(-\zslope,-50)
               ++(-10,0) -- ++(+10,0)
            -- ++(\slope,+100) -- ++(\length/2.-\slope,0) }
\pgfwavelet{dh}{Dh}
\pgfwavedef{DD}{-- ++(+100,0) ++(-101,+100) %++(-50,+50) node [scale=0.75] {A} ++(-51,+50)
            -- ++(+101,0) ++(0,-100) }
\pgfwavelet{dD}{DD}
\pgfwavedef{Dd}{-- ++(+50,0) ++(-51,+100)
            -- ++(+51,0) ++(0,-100) }
\pgfwavelet{dd}{Dd}

\pgfwavelet{LX}{LD}
\pgfwavelet{Lx}{Ld}
\pgfwavelet{lx}{ld}
\pgfwavelet{HX}{HD}
\pgfwavelet{Hx}{Hd}
\pgfwavelet{XL}{DL}
\pgfwavelet{XH}{DH}
\pgfwavelet{lX}{LD}
\pgfwavelet{hX}{HD}
\pgfwavelet{hx}{Hd}
\pgfwavelet{xL}{DL}
\pgfwavelet{Xl}{Dl}
\pgfwavelet{xH}{DH}
\pgfwavelet{Xh}{Dh}
\pgfwavedef{XX}{   ++(-1,0) -- ++(+1,0)
            -- ++(\slope,+100) -- ++(\length-\slope,0)
               ++(-100,0)
               ++(-1,0) -- ++(+1,0)
            -- ++(\slope,-100) -- ++(\length-\slope,0) }
\pgfwavedef{Xx}{   ++(-1,0) -- ++(+1,0)
            -- ++(\slope,+100) -- ++(\length/2.-\slope,0)
               ++(-50,0)
               ++(-1,0) -- ++(+1,0)
            -- ++(\slope,-100) -- ++(\length/2.-\slope,0) }
\pgfwavelet{xX}{XX}
\pgfwavelet{DX}{XX}
\pgfwavelet{XD}{XX}
\pgfwavelet{dX}{XX}
\pgfwavelet{xD}{XX}
\pgfwavelet{xx}{Xx}
\pgfwavelet{Dx}{Xx}
\pgfwavelet{Xd}{Xx}
\pgfwavelet{dx}{Xx}
\pgfwavelet{xd}{Xx}
\pgfwavelet{xZ}{dZ}
\pgfwavelet{xz}{dz}
\pgfwavelet{xH}{dH}
\pgfwavelet{xh}{dh}
\pgfwavelet{xL}{dL}
\pgfwavelet{xl}{dl}

\def\textwaveA#1{%
  \ifx\relax#1\empty
  \else
    \def\lastchar{#1}%
    \expandafter
    \textwaveX
  \fi
}

\def\textwaveX#1{%
  \ifx\relax#1\empty
  \else
    \def\currentchar{#1}%
    \edef\str{\str\csname path\lastchar\currentchar\endcsname}%
    \let\lastchar\currentchar
    \expandafter
    \textwaveX
  \fi
}

\begin{document}

\noindent
\sffamily
\begin{tabular}{ll}
 Test A & \textwave{hlhlhlhlhlhlhlhlhlhlhlhl} \\
 Test A & \textwave{HLHLHLHLHLHLHLHLHLHLHLHL} \\
 Test B & \textwave{LLHHHHHHHHHHLLLLLLLLLLLL} \\
 Test C & \textwave{LLLLLLLLLHHHHHLHLHLHLLHH} \\
 Test C & \textwave{LLLLLLLLzHHHHHLHLHLHLLHH} \\
 Test C & \textwave{LLLLLLLLLlhHHHHLHLHLHLLHH} \\
 Test C & \textwave{LHLZZLZHZZLH} \\
 Test C & \textwave{lhlzzlzhzzlh} \\
 Test C & \textwave{LH} \\
 Test C & \textwave{lh} \\
 Test C & \textwave{Lh} \\
 Test C & \textwave{lH} \\
 Test C & \textwave{LDDXDDLHDDDDHDHDLDLHHDHH} \\
 Test C & \textwave{lddxddlhddddhdhdldlhhdhh} \\
% Test C & \textwave{ZD} \\
\end{tabular}


\begin{tabular}{lcccccccccc}
  & H & L & Z & D & X & h & l & z & d & x\\
H & \textwave{HH} & \textwave{HL} & \textwave{HZ} & \textwave{HD} & \textwave{HX} & \textwave{Hh} & \textwave{Hl} & \textwave{Hz} & \textwave{Hd} & \textwave{Hx}\\
L & \textwave{LH} & \textwave{LL} & \textwave{LZ} & \textwave{LD} & \textwave{LX} & \textwave{Lh} & \textwave{Ll} & \textwave{Lz} & \textwave{Ld} & \textwave{Lx}\\
Z & \textwave{ZH} & \textwave{ZL} & \textwave{ZZ} & \textwave{ZD} & \textwave{ZX} & \textwave{Zh} & \textwave{Zl} & \textwave{Zz} & \textwave{Zd} & \textwave{Zx}\\
D & \textwave{DH} & \textwave{DL} & \textwave{DZ} & \textwave{DD} & \textwave{DX} & \textwave{Dh} & \textwave{Dl} & \textwave{Dz} & \textwave{Dd} & \textwave{Dx}\\
X & \textwave{XH} & \textwave{XL} & \textwave{XZ} & \textwave{XD} & \textwave{XX} & \textwave{Xh} & \textwave{Xl} & \textwave{Xz} & \textwave{Xd} & \textwave{Xx}\\
h & \textwave{hH} & \textwave{hL} & \textwave{hZ} & \textwave{hD} & \textwave{hX} & \textwave{hh} & \textwave{hl} & \textwave{hz} & \textwave{hd} & \textwave{hx}\\
l & \textwave{lH} & \textwave{lL} & \textwave{lZ} & \textwave{lD} & \textwave{lX} & \textwave{lh} & \textwave{ll} & \textwave{lz} & \textwave{ld} & \textwave{lx}\\
z & \textwave{zH} & \textwave{zL} & \textwave{zZ} & \textwave{zD} & \textwave{zX} & \textwave{zh} & \textwave{zl} & \textwave{zz} & \textwave{zd} & \textwave{zx}\\
d & \textwave{dH} & \textwave{dL} & \textwave{dZ} & \textwave{dD} & \textwave{dX} & \textwave{dh} & \textwave{dl} & \textwave{dz} & \textwave{dd} & \textwave{dx}\\
x & \textwave{xH} & \textwave{xL} & \textwave{xZ} & \textwave{xD} & \textwave{xX} & \textwave{xh} & \textwave{xl} & \textwave{xz} & \textwave{xd} & \textwave{xx}\\
\end{tabular}

\end{document}


