%&pdflatex
\documentclass{article}
\usepackage [margin=.1cm,paperwidth=20cm,paperheight=20cm] {geometry}

\usepackage {tikz-timing}
\usetikzlibrary {patterns}

\ifx\usetikztimingpackage\undefined
  %\usepackage {tikz-timing-either}
  %\tikzset{timing/e/.style={fill=green},timing/e/background/.style={fill=green,draw=none}}
\else
\fi
  \usetikztiminglibrary {either}
\pagestyle{empty}
\tikzset{%
timing/.append style={orange,},
timing/e/.style={},timing/e/background/.style={fill=green,draw=none,},
timing/d/.style={},timing/d/background/.style={fill=yellow,draw=none,},
tt/.style={timing/initchar=T},
ee/.style={},
}

\begin{document}
\sffamily
%\tikzset{timing/lslope=.4}
%\tikzset{timing/dslope=.4}
\tikzset{timing/zslope=0.45}
\tikzset{timing/dslope=0}
\tikzset{timing/lslope=.125}
\makeatletter
\def\asis#1{{%
  \let\@tempa#1\empty
  \@onelevel@sanitize\@tempa
  \normalfont\texttt{\@tempa}
}}
\let\texttimingbefore\texttiminggrid

\def\da{D{A}}
\def\db{D{B}}
\def\dc{D{C}}
\def\d{D}
\def\e{E}
\def\ee{ee}
\def\tt{tt}
\def\cc{cc}

\def\ichars{H,L,Z,X,M,U,D,T,C,E,@,}
\def\achars{M}%H,L,Z,X,M,U,D,D{A},T,tt,C,cc,E,ee,}
\def\bchars{H,L,Z,X,M,U,D,D{B},T,tt,C,cc,E,ee,}
\def\cchars{H,L,Z,X,M,U,D,D{C},T,tt,C,cc,E,ee,}

%\tikztiming@debug=0
\@tempdima=1.6ex

%\foreach \I in \ichars {%
\def\I{}
\foreach \a in \achars {%
    \begin{tikzpicture}[timing/picture]
      \node [black,anchor=base] (x) at (0,0)
        {\strut\textbf{{\tiny[\asis\I]} \asis\a}};%
    \foreach \c in \cchars {%
      \node [black,right of=x] (x) {\strut\asis\c};%
    }%
    \coordinate (y) at (0,0);
    \foreach \b in \bchars {%
      \coordinate (y) at ($ (y) - (0,2) $);
      \coordinate (x) at (y);
      \node [black,anchor=base] at (x) {\strut\asis\b};%
      \foreach \c in \cchars {%
        \let\x\b
        \ifx\b\db
          \def\x{D}%
        \fi
        \ifx\ee\b
          \def\x{E}%
        \fi
        \ifx\tt\b
          \def\x{T}%
        \fi
        \ifx\cc\b
          \def\x{T}%
        \fi
        %\node [right of=x] (x) {\expandafter\texttiming\abc};%
        \coordinate (x) at ($ (x) + (4,0) $);
        \coordinate (t) at ($ (x) - (1.5,0) $);
        \draw [shift={(t)},help lines,step=.5] (0,0) grid (3,1);
        \edef\temp{\noexpand\timing at (t) {\b\a\c};}%
        \temp
      }%
    }%
     \draw [help lines] (-2,2) rectangle ($ (x) + (3,-1) $);
    \end{tikzpicture}
    \newpage
}%
%}%

\end{document}


